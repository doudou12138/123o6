#Lab4

|版本| 更新时间      | 更新人  | 当前版本 | 操作          |
|---|-----------|------|------|-------------|
|v1.1| 2023-4.24 | 汪天佑,曾玉琨 |      | 编写修订好的文档    |
|v2.1| 2023-7.6  | 汪天佑  | yes  | 根据修改意见添加了目录 |

## 小组成员：
|姓名|学号|联系方式|
|---|---|---|
|汪天佑|211250173|18156945938|
|曾玉琨|211250160||
|金普凡|201250221||

分工：  
在经过小组会议后确定了并完成了需求规格文档中除 3.2功能需求 外的内容填写，并确定了功能需求列表和各功能需求的大致内容  
曾玉琨负责完成功能需求3.2.1、3.2.2、3.2.3、3.2.4的总结  
汪天佑负责完成功能需求3.2.5、3.2.6、3.2.7、3.2.8、3.2.9的总结  

金普凡同学仍未联系到，已和助教、老师说明

# 目录
- [1. 引言](#section-1)
  - [1.1 目的](#section-1-1)
  - [1.2 范围](#section-1-2)
  - [1.3 定义、首字母缩写和缩略语](#section-1-3)
  - [1.4 参考文献](#section-1-4)
- [总体描述](#section-2)
  - [2.1 项目前景](#section-2-1)
    - [2.1.1 背景与机遇](#section-2-1-1)
    - [2.1.2 业务需求](#section-2-1-2)
  - [2.2 产品功能](#section-2-2)
  - [2.3 用户特征](#section-2-3)
  - [2.4 约束](#section-2-4)
  - [2.5 假设和依赖](#section-2-5)
- [详细需求描述](#section-3)
  - [3.1 对外接口需求](#section-3-1)
    - [3.1.1 用户界面](#section-3-1-1)
    - [3.1.2 硬件接口](#section-3-1-2)
    - [3.1.3 软件接口](#section-3-1-3)
    - [3.1.4 通信接口](#section-3-1-4)
  - [3.2 功能需求](#section-3-2)
    - [3.2.1 用户注册](#section-3-2-1)
    - [3.2.2 用户修改个人信息](#section-3-2-2)
    - [3.2.3 用户注销](#section-3-2-3)
    - [3.2.4 进行车票查询](#section-3-2-4)
    - [3.2.5 购买车票](#section-3-2-5)
    - [3.2.6 添加列车线路](#section-3-2-6)
    - [3.2.7 修改列车线路](#section-3-2-7)
    - [3.2.8 删除列车线路](#section-3-2-8)
    - [3.2.9 车票信息管理](#section-3-2-9)
  - [3.3 性能需求](#section-3-3)
  - [3.4 约束](#section-3-4)
  - [3.5 质量属性](#section-3-5)
  - [3.6 其他需求](#section-3-6)
- [附录](#appendix)
- [索引](#index)


<h1 id="section-1">1. 引言</h1>
<h2 id="section-1-1">1.1. 目的</h2>
随着工作和生活节奏的加快，人们差旅出行的需求迅速提升，但传统的车票预定购买模式有着许多不便之处：  
意在为出行的人们提供更方便的购票服务，只需要一部能联网的电脑，就能获得车票的一手信息，无需去车站排队，就能成功购置车票
<h2 id="section-1-2">1.2. 范围</h2>
队伍的ticketCube项目尚仍处于开发的第一阶段，正在开发并完善乘客和铁路管理员的功能
<h2 id="section-1-3">1.3 定义、首字母缩写和缩略语</h2>

<h2 id="section-1-4">1.4 参考文献</h2>
1.  IEEE标准
2. 《软件⼯程与计算（卷⼆）：软件开发的技术基础》刘钦、丁⼆⽟著。

<h1 id="section-2">总体描述</h1>
<h2 id="section-2-1">2.1 项目前景</h2>
<h3 id="section-2-1-1">2.1.1 背景与机遇</h3>

- 随着工作和生活节奏的加快，人们差旅出行的需求迅速提升，但传统的车票预定购买模式有着许多不便之处：
    * 售票效率低：传统售票采用现金支付，火车站售票窗口需要现金收取，给用户带来颇多不便，也影响了售票效率；
    * 信息不及时：铁路传统售票只能提供有限的信息，售票员难以及时更新车票信息，影响用户准确购票；
    * 抢票难度大：传统售票模式下，用户必须提前一段时间到达火车站排队抢票，给用户带来不便；  
- ticketCube项目能为出行的人们提供更方便的购票服务，只需要一部能联网的电脑，就能获得车票的一手信息，无需去车站排队，就能成功购置车票
<h3 id="section-2-1-2">2.1.2 业务需求</h3>
BR1: 在使⽤系统⼀周后，游客可以熟练地查询，购买车票。  
BR2: 在使⽤系统两周后，铁路管理员可以熟练地管理线路，管理车票。  
BR3：网站投入使用两个月后，车站购票大厅人数少25%  
BR4: 网站投入使用半年后，出行人流量增加10%  
BR5: 网站投入使用一个月后，网站用户达到1000  
<h2 id="section-2-2">2.2 产品功能</h2>

用户：  

    1. 可以调整条件查询车票
    2. 可以进行支付，购买车票
    3. 可以退票
    4. 可以管理个人信息
车票管理员：  

    1. 可以编排线路，调整线路
    2. 可以进行车票的管理
<h2 id="section-2-3">2.3 用户特征</h2>

|用户|用户特征|
|---|---|
|游客|主要是具有频繁出行需要（如出差交流），或者有必要出行需要（如回家）的人，以及需要外出旅游的人|
|铁路管理员|主要是铁路管理局人员，负责调整列车的线路，有时也会需要帮游客买票|
<h2 id="section-2-4">2.4 约束</h2>

CON1:开发者需要在2个月内完成开发任务  
CON2:在开发中，开发者需要附上设计文档  
<h2 id="section-2-5">2.5 假设和依赖</h2>

AS1：不会有很多人同时访问该网站  
<h1 id="section-3">详细需求描述</h1>

<h2 id="section-3-1">3.1 对外接口需求</h2>

<h3 id="section-3-1-1">3.1.1 用户界面</h3>
//todo
<h3 id="section-3-1-2">3.1.2 硬件接口</h3>
<h3 id="section-3-1-3">3.1.3 软件接口</h3>
使用mysqul数据库记录各项数据
<h3 id="section-3-1-4">3.1.4 通信接口</h3>
<h2 id="section-3-2">3.2 功能需求</h2>
<h3 id="section-3-2-1">3.2.1 用户注册</h3>
<h4 id="section-3-2-1-1">3.2.1.1 特性描述</h4>
对于第一次使用该网站的用户，需要先注册账号，才能正常使用
<h4 id="section-3-2-1-2">3.2.1.2 刺激、响应序列</h4>
刺激：用户请求注册账号<br>响应:系统提醒用户输入账号密码<br>刺激：用户以非法的信息格式点击 立即注册 按钮<br>响应：系统提醒错误<br>刺激：用户以合法的信息格式点击“立即注册“<br>响应：系统更新数据库，注册成功，进入登录页
<h4 id="section-3-2-1-3">3.2.1.3 相关功能需求</h4>

|||
|---|---|
|accNo.check|账号的检查|
|passwo.check|密码的检查|
|sigUp|进行账号注册|

<h3 id="section-3-2-2">3.2.2 用户修改个人信息</h3>
<h4 id="section-3-2-2-1">3.2.2.1 特性描述</h4>
用户的个人信息在使用一段时间后，用户可能想去修改它们，因此用户有修改个人信息功能
<h4 id="section-3-2-2-2">3.2.2.2 刺激、响应序列</h4>
刺激：用户请求修改个人信息<br>响应：系统显示个人详细信息<br>刺激：用户键入要修改的信息<br>响应：系统显示新的个人详细信息<br>刺激：用户完成修改信息<br>响应：更新数据库，并显示全新的个人信息
<h4 id="section-3-2-2-3">3.2.2.3相关功能需求</h4>

|||
|---|---|
|user.detail|显示用户的详细细节|
|user.change**|改变用户的某些信息|

<h3 id="section-3-2-3">3.2.3 用户注销</h3>
<h4 id="section-3-2-3-1">3.2.3.1 特性描述</h4>
用户可能在使用一段时间后不再需要账户，可以选择注销账户
<h4 id="section-3-2-3-2">3.2.3.2 刺激、响应序列</h4>
刺激：用户申请注销其账户<br>响应：系统提示用户确定<br>刺激：用户确定注销<br>响应：系统将其从账户删除
<h4 id="section-3-2-3-3">3.2.3.3其他功能需求</h4>

|               |    |
|---------------|-----|
| logOff.remove | 注销  |

<h3 id="section-3-2-4">3.2.4 进行车票查询</h3>
<h4 id="section-3-2-4-1">3.2.4.1 特征</h4>
用户在准备出行时可能会想要知道有什么车票可购，因此需要提供查询车票的功能
<h4 id="section-3-2-4-2">3.2.4.2 刺激、响应序列</h4>
刺激：用户申请查询车票<br>响应：系统提示用户选择查询方式<br>刺激：用户申请通过列车号查询<br>响应：系统提示用户输入列车号<br>刺激：用户以列车号查询<br>响应：系统显示列车的详细信息<br>刺激：用户申请通过起止站查询<br>响应：系统显示出行方案<br>刺激：用户选择出行方案以查看<br>响应：系统显示列车方案细节
<h4 id="section-3-2-4-3">3.2.4.3 其他功能需求</h4>

| |             |
| --- |-------------|
|Select.trainByNo| 根据列车号去查询列车  |
|Train.detail| 显示列车的具体信息   |
|Select.trainsByBE| 根据起止站去查询    |
|Trains.detail| 显示列车方案的具体信息 |


<h3 id="section-3-2-5">3.2.5 购买车票</h3>
<h4 id="section-3-2-5-1">3.2.5.1 特征</h4>
用户可以在选好列车线路后，选择起点站终点站、座位等级购买车票
<h4 id="section-3-2-5-2">3.2.5.2 刺激、响应序列</h4>
刺激：用户以列车编号进入购买界面<br>响应：系统显示列车详细信息<br>刺激：用户选择完起始终点站申请进入选座界面<br>响应：系统操作数据库查询各种等级座位以及对应余票<br>刺激：用户选择号起始终点座位进入支付界面<br>响应：系统更新车票库存，调用支付功能<br>刺激：支付完成<br>响应：系统根据购买信息形成订单，跳入订单页面<br>刺激：支付失败<br>响应：系统提示错误，退出购买界面，并恢复车票库存
<h4 id="section-3-2-5-3">3.2.5.3 相关功能需求</h4>

| | |
|---|---|
|Train.detail|系统根据所选的列车线路的编号返回列车线路的具体信息|
|Select.idStaSea|系统根据所选择的列车线路id，站点，座位等级返回还剩的余票数量和价格|
|Seat.updata|更新座位|
|callPay|系统调用支付功能|
|new Order|形成新的订单|

<h3 id="section-3-2-6">3.2.6 添加列车线路</h3>
<h4 id="section-3-2-6-1">3.2.6.1 特征：</h4>
铁路不断发展，会有新的线路不断出现。系统管理员可以在系统中增加新的列车线路
<h4 id="section-3-2-6-2">3.2.6.2 刺激、响应序列</h4>
刺激：铁路管理者申请增加线路<br>响应：系统弹出列车号、始终站输入界面<br>刺激：铁路管理者输入了重复或非法的列车号<br>响应：系统显示错误<br>刺激：铁路管理者输入了合法的列车号<br>响应：系统弹出中间站完善界面<br>刺激：铁路管理者完善中间站后点击确认<br>响应：显示新的列车的信息
<h4 id="section-3-2-6-3">3.2.6.3相关功能需求</h4>

|||
|---|---|
|new Train|创建一个新的列车|
|Train.setName|为新列车设置列车号|
|Train.setEnd|为新列车设置起始站点和终点站点|
|Train.addSta|为新列车添加中间站点|
|Train.detail|显示新列车线路的具体信息|

<h3 id="section-3-2-7">3.2.7 修改列车线路</h3>
<h4 id="section-3-2-7-1">3.2.7.1特征</h4>
列车线路不会在创建之后就一直一成不变。铁路管理员可以有修改铁路线路的功能
<h4 id="section-3-2-7-2">3.2.7.2刺激、相应序列</h4>
刺激：铁路管理员申请对列车线路进行更改<br>响应:系统显示列车的详细信息<br>刺激：铁路管理员对列车相应信息做出修改<br>响应：系统显示更改后的列车信息<br>刺激：铁路管理员确定对列车信息的更改<br>响应：系统提示更改完成。转向新的列车信息
<h4 id="section-3-2-7-3">3.2.7.3相关功能需求</h4>

|||
|---|---|
|Train.rename|列车重命名|
|Train.removeSta|从列车中移除某个中间站点|
|Train.addSta|向列车中添加某个中间站点|
|Train.detail|显示列车的详细信息|

<h3 id="section-3-2-8">3.2.8 删除列车线路</h3>
<h4 id="section-3-2-8-1">3.2.8.1 特征：</h4>
不能排除会有某条铁路线路弃用的可能，铁路管理员可以删除某条线路
<h4 id="section-3-2-8-2">3.2.8.2 刺激、响应序列</h4>
刺激：铁路管理员申请删除某条铁路线路<br>响应：系统提醒铁路管理员进行确认<br>刺激：铁路管理员确定删除<br>响应：系统完成对于线路的删除
<h4 id="section-3-2-8-3">3.2.8.3 其他功能需求</h4>

|                     |        |
|---------------------|--------|
| manager.removeTrain | 移除某个列车 |

<h3 id="section-3-2-9">3.2.9 车票信息管理</h3>
<h4 id="section-3-2-9-1">3.2.9.1特征：</h4>
铁路管理员应该可以操作车票，以方便为乘客购票，退票，改票的信息#### 3.2.9.2刺激、响应序列：
<h4 id="section-3-2-9-2">3.2.9.2刺激相应序列：</h4>
刺激：铁路管理员申请出票  
响应：系统调用购票程序  
刺激：铁路管理申请退票或者修改票的信息  
响应：系统提示输入票号  
刺激：铁路管理员键入票号  
响应：系统显示车票详细信息  
刺激：铁路管理员确定退票，  
响应：系统更新座位库存  
刺激：铁路管理员输入新的票信息  
响应：系统显示新的车票信息  
刺激：铁路管理员确定修改车票信息  
响应：系统显示新的车票信息，并更新库存  
<h4 id="section-3-2-9-3">3.2.9.3 其他功能需求</h4>

|||
|---|---|
|ticket.detail|显示车票的详细信息|
|ticketList.remove|删除车票|
|ticket.reset|修改车票的信息|
|seat.update|更新座位|
|new ticket|生成新票|

<h2 id="section-3-3">3.3 性能需求</h2>
任何操作5秒内需要有反馈
<h2 id="section-3-4">3.4 约束</h2>
IC1: 系统要为不同的⼈员提供各⾃的部署。  
IC2: 系统后端使⽤Java，MySQL，springboot进⾏开发，前端使⽤Vue进⾏开发。  
<h2 id="section-3-5">3.5 质量属性</h2>
网站可以报错，但不要崩溃
<h2 id="section-3-6">3.6 其他需求</h2>

<span id="appendix">附录</span>  
<span id="index">索引</span>  

