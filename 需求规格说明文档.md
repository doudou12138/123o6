## 1. 引言

### 1.1 目的

本文档描述了互联网铁路订票系统的功能需求和非功能需求。开发小组的软件系统实现与验证工作以此文档为依据。

### 1.2 范围
互联网铁路订票系统是为铁路、顾客开发的业务系统，开发的目标是帮助铁路处理日常的重点业务，包括维护客户和铁路基本信息、制定铁路积分策略、更新车次和车票信息、浏览订单、订单执行；帮助用户完成车票购买相关的业务，包括浏览车票详细信息、搜索车票信息、生成订单、浏览订单、退订、注册会员；帮助铁路管理人员处理铁路管理的重点业务，包括管理铁路路线、设置车票信息、更新车次状态。 通过互联网铁路订票系统的应用，期望用户可以比较和选择不同车票，提高出行效率；期望铁路部门可以及时了解所有预订订单的变化动态，提高收益，同时防止恶意预订。

### 1.3 参考文献

(1) IEEE标准

(2)《软件工程与计算（卷二）软件开发的技术基础》

(3) 用例文档


## 2. 总体描述

### 2.1 项目前景

#### 2.1.1 背景与机遇

随着工作和生活节奏的加快，人们差旅出行的需求迅速提升，但传统的车票预定购买模式有着许多不便之处：

● 售票效率低：传统售票采用现金支付，火车站售票窗口需要现金收取，给用户带来颇多不便，也影响了售票效率；

● 信息不及时：铁路传统售票只能提供有限的信息，售票员难以及时更新车票信息，影响用户准确购票；

● 抢票难度大：传统售票模式下，用户必须提前一段时间到达火车站排队抢票，给用户带来不便；

互联网铁路订票系统就是为了解决以上问题而开发的。

#### 2.1.2 业务需求

BR1: 在系统使用3个月后，铁路收到的恶意预订订单减少50％

BR2: 在系统使用3个月后，铁路管理部门的总收入要提高20％

### 2.2 项目功能

SF1: 全面的展示每趟列车的详细情况，帮助用户进行选择和比较，更好的购票；

SF2: 执行信用累计制度，防止恶意订票购票；

SF3：让铁路局能及时了解到所有购票订单的变化动态，让系统及时更新票余量情况；

SF4: 帮助顾客建立历史记录，在顾客预订时发挥历史记录的作用；

### 2.3 用户特征

|用户|特征|
|:-:|---|
|客户|系统有大量用户，客户每个月需要预订一次酒店，但由于传统的线下酒店预订模式有着很多不方便之处，他们常常花费大量时间在预订车票上，而且有时候无法买的车票，因此他们希望软件系统可以帮助他们解决问题。客户的计算机操作技能一般，只能简单地使用鼠标和键盘进行操作，希望新系统尽可能帮他们解决这些问题|
|铁路管理员|每个铁路部门有 1 个或多个铁路管理员，每天多次需要管理铁路路线的信息和设置车票的信息和及时更新车票情况，他们希望软件系统可以帮助他们提高效率。铁路管理员的计算机操作技能一般|
|票务员|整个系统有 1 个或多个票务员，每天进行售票操作、退票操作、换票操作。票务员的计算机操作技能一般|
|余票管理员|整个系统有 1 个或多个余票管理员，他的工作是余票管理。余票管理员算机操作技能一般|


### 2.4 约束

CON1: 用户、铁路管理员、票务员、余票管理员使用WEB

CON2: 开发者需要在 3 个月内完成开发任务

CON3: 在开发中，开发者要提交软件需求规格说明文档、设计描述文档

### 2.5 假设与依赖

AE1: 网络畅通，不会发生故障

AE2: 地址中的城市和路线比较固定，事先被预置在系统数据中，且少量修改直接在后台数据中进行，不需要系统提供维护功能

## 3. 详细需求描述

### 3.1 对外接口需求

#### 3.1.1 用户界面

#### 3.1.2 软件接口

使用PostgreSQL作为底层数据库存储各类数据

### 3.2 功能需求

#### 3.2.1 撤销订单

##### 3.2.1.1 特性描述

客户在登录账号后，可以在查看订单时选择撤销未执行的正常订单，系统将订单状态改为撤销并完成客户积分的扣除和余票的更新。


##### 3.2.1.2 刺激/响应序列

刺激：客户选择撤销订单

响应：系统展示是否确认撤销的提示信息

刺激：客户选择确认

响应：更改订单状态为撤销并完成余票的更新和客户积分的更新

刺激：客户选择取消

响应：系统关闭撤销订单界面


#### 3.2.2 浏览车次

##### 3.2.2.1 特性描述

客户在登录账号后，可以查看出发地和目的地所拥有的车次列表。可以筛选信息。


##### 3.2.2.2 刺激响应序列

刺激：客户选择出发地和目的地

响应：系统显示出发地和目的地之间的车次；若没有车次，系统显示无车次信息提示

刺激：客户想要查看购买的车票

响应：系统显示用户购买的车票

刺激：客户点击相应的车次

响应：系统返回相应车次的详细信息、以及用户在该车次的订单


#### 3.2.3 注册用户

##### 3.2.3.1 特性描述

客户在登录网站时需要注册为用户才可以购买车票。

##### 3.2.3.2 刺激响应序列

刺激：客户选择注册会员

响应：系统要求用户填写相应信息

刺激：客户选择确认

响应：系统完成注册用户

刺激：客户选择取消

响应：系统关闭注册界面



#### 3.2.4 个人信息管理
##### 3.2.4.1 特性描述
用户可以修改自己的个人信息
##### 3.2.4.2 刺激相应序列
刺激：用户在个人信息界面选择修改个人信息

响应：系统显示修改个人信息界面

刺激：用户确认修改个人信息

响应：系统更新用户个人信息并关闭修改个人信息界面

刺激：用户想要修改积分

响应：系统不允许用户修改自己的积分

#### 3.2.5 车票信息管理
##### 3.2.5.1 特性描述

管理员可以管理车票信息

##### 3.2.5.2 刺激响应序列

刺激：管理人员选择添加/删除/修改车票

响应：系统显示添加/删除/修改信息界面

刺激：确认修改

响应：系统更新信息并关闭添加/删除/修改信息界面

#### 3.2.6 车站信息管理
##### 3.2.6.1 特性描述

管理员可以管理车站信息

##### 3.2.6.2 刺激响应序列

刺激：管理人员选择添加/删除/修改车站

响应：系统显示添加/删除/修改信息界面

刺激：确认修改

响应：系统更新信息并关闭添加/删除/修改信息界面
#### 3.2.7 车次信息管理
##### 3.2.7.1 特性描述

管理员可以管理车票信息

##### 3.2.7.2 刺激响应序列

刺激：管理人员选择添加/删除/修改车次

响应：系统显示添加/删除/修改信息界面

刺激：确认修改

响应：系统更新信息并关闭添加/删除/修改信息界面

#### 3.2.8 积分查看
##### 3.2.8.1 特性描述

用户可以浏览自己每一次的积分变化

##### 3.2.8.2 刺激响应序列

刺激：用户想要查看自己每一次积分变化的情况

响应：系统显示用户每一次的积分变化
#### 3.2.9 查看订单
##### 3.2.9.1 特性描述

客户可以浏览自己的订单，管理员可以查看所有订单

##### 2.14.2 刺激响应序列

刺激：客户在订单列表选择查看订单详情

响应：系统显示该订单详细信息

刺激：管理员想要浏览铁路订单

响应：系统显示该铁路的所有订单
#### 3.2.10 浏览车次信息
##### 3.2.10.1 特性描述

用户可以浏览车次信息

##### 3.2.10.2 刺激相应序列

刺激：客户在车次列表中选择目标车次

响应：系统显示车次详细信息界面

### 3.3 非功能需求

#### 3.3.1 安全性

Safyty 1：用户只能查看和维护自己的信息

Safyty 2：系统只允许经过验证和授权的用户登录

Safyty 3：管理人员不能修改用户的积分

safyty 4：用户的密码必须密文存储

#### 3.3.2 可维护性

Modifiability 1：如果积分策略发生更新，系统需要能够在30分钟内修改策略

#### 3.3.3 易用性

Usability 1：所有类型人员都不需要专门的培训，就可以在 10 分钟内完成任一个操作任务。

#### 3.3.4 可靠性

Reliability 1：所有操作任务的完成时间都不会超过1小时，即暂停和中断不会超过1小时



#### 3.3.5 约束

IC1：系统要为不同的人员提供各自的部署

IC2：系统后端使用Java，PostgreSQL，springboot进行开发，前端使用Vue进行开发

IC3：系统不需要处理费用问题


### 3.4 数据需求

#### 3.4.1 数据定义

DR1：系统需要存储的数据实体及其关系参见用例文档中的概念类图和体系结构文档中的数据持久化对象

#### 3.4.2 默认数据

默认数据用于以下两种情况：

- 系统中新增加数据时
    
- 编辑数据时不小心将相关内容清空时
    

Default1：费用、价格、积分变化、金额的数据默认为0

Default2：预订车票数量默认为1

Default3：时间默认为当天、或者为空（初始化时）

Default4：电话号码、状态默认为空

Default5：车票总量、剩余车票量默认为0

Default6：用户积分默认为0

Default7：新注册用户类型默认为客户

#### 3.4.3 数据格式要求

Format1：日期的格式必须是yyyy-MM-dd

Format2：订单中车票的数量必须是正整数

Format3：订单中金额必须是大于等于0、精确到小数点后2的浮点数，单位为元

Format4：积分优惠里的discount必须是大于0的双精度浮点数

Format5：积分优惠里的优惠金额必须是大于等于0、精确到小数点后2的浮点数，单位为元

Format6：一切字符串形式的输入必须满足字符数小于等于511。

Format7：用户积分、积分变更必须是双精度浮点数


### 3.5 其他
#### 3.5.1安装需求

Install1：在安装系统时，要初始化用户、车站、车票、车次等重要数据